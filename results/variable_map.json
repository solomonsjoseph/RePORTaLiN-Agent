{
  "outcomes": {
    "recurrence": {
      "cohort_A": {
        "variables": [
          {"name": "TBRELAPSE", "form": "98A_FOA", "label": "TB Relapse Status", "type": "categorical", "values": ["Yes", "No"]},
          {"name": "TBRECUR", "form": "98A_FOA", "label": "TB Recurrence", "type": "categorical", "values": ["Yes", "No"]},
          {"name": "RETREATMENT", "form": "98A_FOA", "label": "Retreatment Required", "type": "categorical", "values": ["Yes", "No"]},
          {"name": "RECURDATE", "form": "98A_FOA", "label": "Date of Recurrence", "type": "date"}
        ],
        "description": "TB recurrence/relapse outcomes for index cases",
        "analysis_type": "binary or time-to-event"
      },
      "cohort_B": {
        "variables": [],
        "description": "Not typically applicable - use incident_tb for household contacts",
        "note": "Recurrence requires prior TB diagnosis"
      }
    },
    "incident_tb": {
      "cohort_A": {
        "variables": [
          {"name": "TBRELAPSE", "form": "98A_FOA", "label": "TB Relapse (equivalent to incident for index)", "type": "categorical"}
        ],
        "description": "For index cases, incident TB is equivalent to recurrence"
      },
      "cohort_B": {
        "variables": [
          {"name": "TBINCIDENT", "form": "98B_FOB", "label": "Incident TB Diagnosis", "type": "categorical", "values": ["Yes", "No"]},
          {"name": "TBDIAG", "form": "9_EEval", "label": "TB Diagnosis", "type": "categorical"},
          {"name": "TBCONFIRM", "form": "9_EEval", "label": "TB Confirmed", "type": "categorical"},
          {"name": "TST_CONVERT", "form": "10_TST", "label": "TST Conversion", "type": "categorical", "values": ["Converted", "Not Converted", "NA"]},
          {"name": "IGRA_CONVERT", "form": "11_IGRA", "label": "IGRA Conversion", "type": "categorical", "values": ["Converted", "Not Converted", "NA"]},
          {"name": "ACTIVETB", "form": "9_EEval", "label": "Active TB Disease", "type": "categorical", "values": ["Yes", "No"]}
        ],
        "description": "Incident TB or TB infection in household contacts",
        "analysis_type": "binary or time-to-event"
      }
    },
    "treatment_outcome": {
      "cohort_A": {
        "variables": [
          {"name": "TXOUTCOME", "form": "98A_FOA", "label": "Treatment Outcome", "type": "categorical", "values": ["Cured", "Completed", "Failed", "Died", "Lost to Follow-up", "Not Evaluated"]},
          {"name": "TXSTATUS", "form": "98A_FOA", "label": "Treatment Status", "type": "categorical"},
          {"name": "CURED", "form": "98A_FOA", "label": "Cured Indicator", "type": "binary", "values": ["1", "0"]},
          {"name": "COMPLETED", "form": "98A_FOA", "label": "Treatment Completed", "type": "binary", "values": ["1", "0"]},
          {"name": "FAILED", "form": "98A_FOA", "label": "Treatment Failed", "type": "binary", "values": ["1", "0"]},
          {"name": "DEFAULTED", "form": "98A_FOA", "label": "Defaulted/Lost", "type": "binary", "values": ["1", "0"]}
        ],
        "description": "End-of-treatment outcomes for TB patients",
        "analysis_type": "categorical or binary (favorable vs unfavorable)"
      },
      "cohort_B": {
        "variables": [],
        "description": "Not applicable - contacts do not receive TB treatment unless diagnosed",
        "note": "If HHC develops TB, they become index cases"
      }
    },
    "mortality": {
      "cohort_A": {
        "variables": [
          {"name": "DEATH", "form": "99A_FSA", "label": "Death Indicator", "type": "binary", "values": ["1", "0"]},
          {"name": "DTHDATE", "form": "99A_FSA", "label": "Date of Death", "type": "date"},
          {"name": "DTHCAUSE", "form": "99A_FSA", "label": "Cause of Death", "type": "categorical", "values": ["TB-related", "Non-TB related", "Unknown"]},
          {"name": "VITAL_STATUS", "form": "99A_FSA", "label": "Vital Status", "type": "categorical", "values": ["Alive", "Dead", "Unknown"]}
        ],
        "description": "All-cause or TB-related mortality in index cases",
        "analysis_type": "binary or time-to-event (survival analysis)"
      },
      "cohort_B": {
        "variables": [
          {"name": "DEATH", "form": "99B_FSB", "label": "Death Indicator", "type": "binary", "values": ["1", "0"]},
          {"name": "VITAL_STATUS", "form": "99B_FSB", "label": "Vital Status", "type": "categorical", "values": ["Alive", "Dead", "Unknown"]}
        ],
        "description": "Mortality in household contacts",
        "analysis_type": "binary or time-to-event"
      }
    }
  },
  "predictors": {
    "comorbidities": {
      "description": "Chronic conditions and comorbidities",
      "variables": [
        {"name": "DIABETES", "form": "2A_ICBaseline", "label": "Diabetes Status", "type": "categorical", "values": ["Yes", "No", "Unknown"]},
        {"name": "DM", "form": "2A_ICBaseline", "label": "Diabetes Mellitus", "type": "binary", "values": ["1", "0"]},
        {"name": "DM_TYPE", "form": "2A_ICBaseline", "label": "Diabetes Type", "type": "categorical", "values": ["Type 1", "Type 2", "Gestational", "Unknown"]},
        {"name": "HIV", "form": "6_HIV", "label": "HIV Status", "type": "categorical", "values": ["Positive", "Negative", "Unknown"]},
        {"name": "HIVSTAT", "form": "6_HIV", "label": "HIV Serostatus", "type": "categorical"},
        {"name": "MALNUTRITION", "form": "2A_ICBaseline", "label": "Malnutrition Status", "type": "categorical", "values": ["Severe", "Moderate", "Mild", "None"]},
        {"name": "ANEMIA", "form": "5_CBC", "label": "Anemia", "type": "categorical", "values": ["Severe", "Moderate", "Mild", "None"]},
        {"name": "CKD", "form": "2A_ICBaseline", "label": "Chronic Kidney Disease", "type": "binary"}
      ]
    },
    "nutrition": {
      "description": "Nutritional status indicators",
      "variables": [
        {"name": "BMI", "form": "2A_ICBaseline", "label": "Body Mass Index", "type": "continuous", "unit": "kg/m²"},
        {"name": "WEIGHT", "form": "2A_ICBaseline", "label": "Weight", "type": "continuous", "unit": "kg"},
        {"name": "HEIGHT", "form": "2A_ICBaseline", "label": "Height", "type": "continuous", "unit": "cm"},
        {"name": "MUAC", "form": "2A_ICBaseline", "label": "Mid-Upper Arm Circumference", "type": "continuous", "unit": "cm"},
        {"name": "NUTSTAT", "form": "2A_ICBaseline", "label": "Nutritional Status Category", "type": "categorical", "values": ["Normal", "Underweight", "Overweight", "Obese"]},
        {"name": "BMI_CAT", "form": "2A_ICBaseline", "label": "BMI Category", "type": "categorical", "values": ["<18.5", "18.5-24.9", "25-29.9", ">=30"]}
      ]
    },
    "lifestyle": {
      "description": "Behavioral and lifestyle factors",
      "variables": [
        {"name": "SMOKING", "form": "2A_ICBaseline", "label": "Current Smoking Status", "type": "categorical", "values": ["Current", "Former", "Never"]},
        {"name": "SMOKESTAT", "form": "2A_ICBaseline", "label": "Smoking Status", "type": "categorical"},
        {"name": "PACKYEARS", "form": "2A_ICBaseline", "label": "Pack-Years of Smoking", "type": "continuous"},
        {"name": "ALCOHOL", "form": "2A_ICBaseline", "label": "Alcohol Use", "type": "categorical", "values": ["Current", "Former", "Never"]},
        {"name": "ALCFREQ", "form": "2A_ICBaseline", "label": "Alcohol Frequency", "type": "categorical", "values": ["Daily", "Weekly", "Monthly", "Rarely", "Never"]},
        {"name": "ALCQTY", "form": "2A_ICBaseline", "label": "Alcohol Quantity", "type": "continuous", "unit": "drinks/week"},
        {"name": "TOBACCO", "form": "53_exposure", "label": "Tobacco Use (any form)", "type": "categorical"}
      ]
    },
    "demographics": {
      "description": "Demographic characteristics",
      "variables": [
        {"name": "AGE", "form": "2A_ICBaseline", "label": "Age at Enrollment", "type": "continuous", "unit": "years"},
        {"name": "AGECAT", "form": "2A_ICBaseline", "label": "Age Category", "type": "categorical", "values": ["<18", "18-34", "35-49", "50-64", ">=65"]},
        {"name": "SEX", "form": "2A_ICBaseline", "label": "Sex", "type": "categorical", "values": ["Male", "Female"]},
        {"name": "GENDER", "form": "2A_ICBaseline", "label": "Gender", "type": "categorical"},
        {"name": "SITEID", "form": "2A_ICBaseline", "label": "Study Site ID", "type": "categorical", "values": ["SITE01", "SITE02", "SITE03"]},
        {"name": "SITE", "form": "2A_ICBaseline", "label": "Study Site Name", "type": "categorical", "values": ["Pune", "Chennai", "Delhi"]},
        {"name": "EDUCATION", "form": "2A_ICBaseline", "label": "Education Level", "type": "categorical", "values": ["None", "Primary", "Secondary", "Higher Secondary", "Graduate", "Postgraduate"]},
        {"name": "OCCUPATION", "form": "2A_ICBaseline", "label": "Occupation", "type": "categorical"},
        {"name": "MARITAL", "form": "2A_ICBaseline", "label": "Marital Status", "type": "categorical", "values": ["Single", "Married", "Divorced", "Widowed"]}
      ]
    },
    "socioeconomic": {
      "description": "Socioeconomic factors",
      "variables": [
        {"name": "INCOME", "form": "2A_ICBaseline", "label": "Monthly Household Income", "type": "categorical"},
        {"name": "INCOME_CAT", "form": "2A_ICBaseline", "label": "Income Category", "type": "categorical", "values": ["Low", "Middle", "High"]},
        {"name": "HOUSING", "form": "2A_ICBaseline", "label": "Housing Type", "type": "categorical"},
        {"name": "CROWDING", "form": "53_exposure", "label": "Household Crowding Index", "type": "continuous"}
      ]
    },
    "clinical": {
      "description": "Clinical TB characteristics at baseline",
      "variables": [
        {"name": "TBTYPE", "form": "9_EEval", "label": "TB Type", "type": "categorical", "values": ["Pulmonary", "Extra-pulmonary", "Both"]},
        {"name": "CAVITARY", "form": "8_CXR", "label": "Cavitary Disease", "type": "binary", "values": ["1", "0"]},
        {"name": "SMEAR", "form": "4_Smear", "label": "Smear Status", "type": "categorical", "values": ["Positive", "Negative", "Not Done"]},
        {"name": "SMEARGRADE", "form": "4_Smear", "label": "Smear Grade", "type": "categorical", "values": ["Scanty", "1+", "2+", "3+"]},
        {"name": "CULTURE", "form": "7_Culture", "label": "Culture Status", "type": "categorical", "values": ["Positive", "Negative", "Contaminated", "Not Done"]},
        {"name": "DST", "form": "21_DSTIsolate", "label": "Drug Susceptibility", "type": "categorical", "values": ["Sensitive", "MDR", "XDR", "Unknown"]},
        {"name": "XRAY", "form": "8_CXR", "label": "Chest X-ray Findings", "type": "categorical"},
        {"name": "SEVERITY", "form": "9_EEval", "label": "Disease Severity Score", "type": "continuous"},
        {"name": "SYMPTOMS", "form": "1A_ICScreening", "label": "TB Symptoms Present", "type": "composite"}
      ]
    },
    "laboratory": {
      "description": "Laboratory values",
      "variables": [
        {"name": "CD4COUNT", "form": "6_HIV", "label": "CD4 Count", "type": "continuous", "unit": "cells/µL"},
        {"name": "HBA1C", "form": "5_CBC", "label": "HbA1c", "type": "continuous", "unit": "%"},
        {"name": "GLUCOSE", "form": "5_CBC", "label": "Fasting Blood Glucose", "type": "continuous", "unit": "mg/dL"},
        {"name": "HEMOGLOBIN", "form": "5_CBC", "label": "Hemoglobin", "type": "continuous", "unit": "g/dL"},
        {"name": "WBC", "form": "5_CBC", "label": "White Blood Cell Count", "type": "continuous", "unit": "cells/µL"},
        {"name": "TST_MM", "form": "10_TST", "label": "TST Induration", "type": "continuous", "unit": "mm"},
        {"name": "IGRA_RESULT", "form": "11_IGRA", "label": "IGRA Result", "type": "categorical", "values": ["Positive", "Negative", "Indeterminate"]}
      ]
    }
  },
  "covariates": {
    "standard": {
      "description": "Standard covariates for adjustment in regression models",
      "variables": [
        {"name": "AGE", "label": "Age", "type": "continuous", "note": "Consider age-squared for non-linear effects"},
        {"name": "SEX", "label": "Sex", "type": "binary", "reference": "Female"},
        {"name": "SITEID", "label": "Study Site", "type": "categorical", "note": "May use fixed or random effects"}
      ]
    }
  },
  "analysis_notes": {
    "recurrence_analysis": [
      "Binary outcome: use logistic regression",
      "Time-to-recurrence: use Cox proportional hazards",
      "Define recurrence window (e.g., within 2 years post-treatment completion)",
      "Consider competing risks (death, loss to follow-up)"
    ],
    "incident_tb_analysis": [
      "Binary outcome for fixed follow-up period",
      "Time-to-event for variable follow-up",
      "TST/IGRA conversion can be intermediate outcome",
      "Consider household clustering effects"
    ],
    "treatment_outcome_analysis": [
      "Multinomial outcome or collapse to binary (favorable vs unfavorable)",
      "Favorable = Cured + Completed",
      "Unfavorable = Failed + Died + Lost to Follow-up",
      "Consider ordinal regression if categories are ordered"
    ],
    "general_recommendations": [
      "Always adjust for age and sex as minimum",
      "Consider site as random effect for multi-site studies",
      "Test for multicollinearity among predictors",
      "Check proportional hazards assumption for Cox models",
      "Use multiple imputation for missing data"
    ]
  }
}
